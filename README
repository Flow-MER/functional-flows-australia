# =============================================================================== 
# Functional Flows Australia 
# Author: Luke Lloyd-Jones, Email - luke.lloyd-jones@csiro.au
# ===============================================================================

This package contains an R package that compute hydrometrics from hydrological 
data generated by in-stream flow gauges. The code and concepts are based on the 
Function Flows approach, which is described here and in other relevant references 
cited in this work.


Primary citation
----------------
Yarnell, Sarah M., et al. "A functional flows approach to selecting ecologically 
relevant flow metrics for environmental flow applications." River Research and 
Applications 36.2 (2020): 318-324.

The code in the ffaus R package is a heavily adapted translation of the Python 
libraries available from here https://github.com/leogoesger/func-flow.

The Python libraries were adapted for the Australian context but 
in parts still resemble the ideas implemented in the original code.

The package was used to generate functional flow hydrometrics for CSIRO's 
modelling in the Flow-MER Modelling Theme. Flow-MER is the Australian Commonwealth 
Environmental Water Officeâ€™s on-ground Monitoring, Evaluation and Research program.
For more details see (https://flow-mer.org.au/).

The R package 'ffaus' was written under R version 4.0.4 and is
installed at this stage using devtools::install("ffaus"), which requires "devtools"
package to be installed. It has been tested on a modern OSX system and run on the 
Linux HPC node with plotting turned off. See the 'plot_out_base' in the getFFmetrics
function in the package. The code at this stage is best run with full diagnostic plots 
using RStudio.

The contents of this repository include

/data 
  Lachlan@Jemalong_Weir_412036.txt
    - The hydrological test data set that spans 49 years of daily (mega litres
      per day) in-stream data from the Jemalong Weir gauge in the Lachlan selected 
      area of the Murray-Darling Basin, Australia.
    - The flow values are in ML/day
    - These are the raw data that are taken in and summarised by the process.

functional_flows_aus.pdf
  - A document that gives a brief introduction to the functional flow methodology
    and then a very detailed summary of the principal components of each functions
    metric calculation. 
  - Also contains troublshooting options and reasons for why you may see NAs in 
    the output. 
  - You can also query each function in R as to its input and output for further
    details.

/install_test.R
   - An R script to install the package and then run the test data set.


/ffaus
  - The source files for the R package 'ffaus'.



